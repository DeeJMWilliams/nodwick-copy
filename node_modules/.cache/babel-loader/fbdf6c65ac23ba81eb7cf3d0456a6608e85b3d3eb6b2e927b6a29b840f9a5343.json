{"ast":null,"code":"import _slicedToArray from\"/Users/deewilliams/Developer/projects/nodwick-copy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//React\nimport React,{useEffect,useState}from'react';//Bootstrap\nimport ListGroup from'react-bootstrap/ListGroup';import Button from'react-bootstrap/Button';//Redux\nimport{useSelector,useDispatch}from'react-redux';import{selectLocation}from'../slices/locationSlice.tsx';import{selectGame}from'../slices/gameSlice.tsx';import{setLocationItems,selectLocationItems}from'../slices/locationItemSlice.tsx';import{setItem,selectItem}from'../slices/itemSlice.tsx';import{setDraggedItem}from'../slices/dragSlice.tsx';//Methods\nimport{getLocationItems}from'../methods.tsx';//Components\nimport NewItemForm from'./NewItemForm.tsx';import ItemPreview from'./ItemPreview.tsx';//Types\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ItemList=function ItemList(){var dispatch=useDispatch();var location=useSelector(selectLocation);var game=useSelector(selectGame);var items=useSelector(selectLocationItems);var activeItem=useSelector(selectItem);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),newItem=_useState2[0],setNewItem=_useState2[1];useEffect(function(){if(location.lid){getLocationItems(game.gid,location.lid).then(function(response){dispatch(setLocationItems(response.data));});}else{dispatch(setLocationItems([]));}},[location,dispatch,game]);var ItemListItem=function ItemListItem(_ref){var item=_ref.item;return/*#__PURE__*/_jsx(ListGroup.Item,{className:item.iid===activeItem.iid?'active':'',onClick:function onClick(){return dispatch(setItem(item));},children:item.name});};var handleDragStart=function handleDragStart(item){dispatch(setDraggedItem(item));};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ItemPreview,{active:activeItem.iid!==''}),/*#__PURE__*/_jsx(NewItemForm,{active:newItem,toggle:function toggle(){return setNewItem(!newItem);}}),/*#__PURE__*/_jsxs(\"h2\",{style:{display:'inline'},children:[\"Items\",'   ']}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"sm\",style:{display:'inline'},onClick:function onClick(){return setNewItem(true);},children:\"New Item\"}),/*#__PURE__*/_jsx(ListGroup,{children:items.length>=1?items.map(function(item){return/*#__PURE__*/_jsx(\"div\",{draggable:true,className:\"draggable\",onDragStart:function onDragStart(){return handleDragStart(item);},children:/*#__PURE__*/_jsx(ItemListItem,{item:item})},item.iid);}):location.lid?/*#__PURE__*/_jsx(ListGroup.Item,{children:\"No entries yet!\"}):/*#__PURE__*/_jsx(React.Fragment,{})})]});};export default ItemList;","map":{"version":3,"names":["React","useEffect","useState","ListGroup","Button","useSelector","useDispatch","selectLocation","selectGame","setLocationItems","selectLocationItems","setItem","selectItem","setDraggedItem","getLocationItems","NewItemForm","ItemPreview","jsx","_jsx","jsxs","_jsxs","ItemList","dispatch","location","game","items","activeItem","_useState","_useState2","_slicedToArray","newItem","setNewItem","lid","gid","then","response","data","ItemListItem","_ref","item","Item","className","iid","onClick","children","name","handleDragStart","Fragment","active","toggle","style","display","variant","size","length","map","draggable","onDragStart"],"sources":["/Users/deewilliams/Developer/projects/nodwick-copy/src/components/ItemList.tsx"],"sourcesContent":["//React\nimport React, {useEffect, useState} from 'react';\n//Bootstrap\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Button from 'react-bootstrap/Button';\n//Redux\nimport {useSelector, useDispatch} from 'react-redux';\nimport { selectLocation } from '../slices/locationSlice.tsx';\nimport {selectGame} from '../slices/gameSlice.tsx';\nimport { setLocationItems, selectLocationItems } from '../slices/locationItemSlice.tsx';\nimport { setItem, selectItem } from '../slices/itemSlice.tsx';\nimport {setDraggedItem} from '../slices/dragSlice.tsx';\n//Methods\nimport { getLocationItems } from '../methods.tsx';\n//Components\nimport NewItemForm from './NewItemForm.tsx';\nimport ItemPreview from './ItemPreview.tsx';\n//Types\nimport {Item} from '../types.tsx';\n\nconst ItemList = () => {\n    const dispatch = useDispatch();\n    const location = useSelector(selectLocation);\n    const game = useSelector(selectGame);\n    const items = useSelector(selectLocationItems);\n    const activeItem = useSelector(selectItem);\n    const [newItem, setNewItem] = useState(false);\n\n    useEffect(() => {\n        if (location.lid) {\n            getLocationItems(game.gid, location.lid)\n            .then((response) => {\n                dispatch(setLocationItems(response.data));\n            })\n        } else {\n            dispatch(setLocationItems([]));\n        }\n    }, [location, dispatch, game])\n\n    type ListItemProps = {\n        item:Item;\n    }\n\n    const ItemListItem = ({item}:ListItemProps):JSX.Element => {\n        return (\n                <ListGroup.Item \n                className={item.iid === activeItem.iid ? 'active': ''} \n                onClick={() => dispatch(setItem(item))}>\n                        {item.name}\n                </ListGroup.Item>\n        )\n    }\n\n    const handleDragStart = (item:Item):void => {\n        dispatch(setDraggedItem(item));\n    };\n\n    return(\n        <React.Fragment>\n        <ItemPreview active={activeItem.iid !== ''} />\n        <NewItemForm active={newItem} toggle={() => setNewItem(!newItem)} />\n        <h2 style={{display: 'inline'}}>Items{'   '}</h2>\n        <Button variant=\"secondary\" size=\"sm\" style={{display: 'inline'}} onClick={() => setNewItem(true)}>New Item</Button>\n        <ListGroup>\n            {items.length >= 1 ?\n            items.map((item:Item) => {\n                return(<div draggable className=\"draggable\"\n                onDragStart={() => handleDragStart(item)} key={item.iid}><ItemListItem item={item} /></div>)\n            }) :\n            location.lid ? <ListGroup.Item>No entries yet!</ListGroup.Item> : <React.Fragment></React.Fragment>}\n        </ListGroup>\n        </React.Fragment>\n    )\n}\n\nexport default ItemList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}