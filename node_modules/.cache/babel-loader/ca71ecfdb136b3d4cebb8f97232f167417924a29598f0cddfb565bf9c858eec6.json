{"ast":null,"code":"var _jsxFileName = \"/Users/deewilliams/Developer/projects/nodwick-copy/src/components/LocationList.tsx\",\n  _s = $RefreshSig$();\n//React\nimport React, { useState } from 'react';\n//Bootstrap\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Badge from 'react-bootstrap/Badge';\n//Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectLocations } from '../slices/allLocationSlice.tsx';\nimport { selectLocation, setLocation } from '../slices/locationSlice.tsx';\n//Types\n\n//Components\nimport LocationDeletePopup from './LocationDeletePopup.tsx';\nimport LocationEditPopup from './LocationEditPopup.tsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LocationList = ({\n  type\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const locations = useSelector(selectLocations);\n  const activeLocation = useSelector(selectLocation);\n  const [deleting, setDeleting] = useState(false);\n  const [editing, setEditing] = useState(false);\n  const [destination, setDestination] = useState(activeLocation);\n  const checkDelete = location => {\n    dispatch(setLocation(location));\n    setDeleting(true);\n  };\n  const startEdit = location => {\n    dispatch(setLocation(location));\n    setEditing(true);\n  };\n  const handleDragOver = (event, loc) => {\n    event.preventDefault();\n    if (destination.lid !== loc.lid) {\n      setDestination(loc);\n    }\n  };\n  const handleDragLeave = (event, loc) => {\n    event.preventDefault();\n    if (destination.lid === loc.lid) {\n      setDestination({\n        'name': '',\n        'lid': '',\n        'gid': '',\n        type: 'location',\n        timestamp: '',\n        item_ids: []\n      });\n    }\n  };\n  const LocationListItem = ({\n    location\n  }) => {\n    let selected = location.lid === activeLocation.lid;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"droppable\",\n      onDragOver: e => handleDragOver(e, location),\n      onDragLeave: e => handleDragLeave(e, location),\n      children: /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        onClick: () => dispatch(setLocation(location)),\n        className: `location__entry ${selected ? 'active' : ''}`,\n        variant: location.lid === destination.lid ? 'primary' : '',\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"location__text\",\n          children: location.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), location.name !== 'Unassigned' ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"badges\",\n          children: [/*#__PURE__*/_jsxDEV(Badge, {\n            bg: \"secondary\",\n            onClick: () => startEdit(location),\n            children: \"\\u270E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this), ' ', /*#__PURE__*/_jsxDEV(Badge, {\n            bg: \"danger\",\n            onClick: () => checkDelete(location),\n            children: \"x\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(React.Fragment, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 16\n    }, this);\n  };\n  const locationsOfType = locations.filter(location => location.type === type);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(LocationEditPopup, {\n      active: editing,\n      toggle: () => setEditing(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LocationDeletePopup, {\n      active: deleting,\n      toggle: () => setDeleting(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n      children: locationsOfType.length >= 1 ? locationsOfType.map(location => {\n        return /*#__PURE__*/_jsxDEV(LocationListItem, {\n          location: location\n        }, location.lid, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 68\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        children: \"No entries yet!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n_s(LocationList, \"8nInkS5Pkh7JMsRwP+sU4gRUDxc=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = LocationList;\nexport default LocationList;\nvar _c;\n$RefreshReg$(_c, \"LocationList\");","map":{"version":3,"names":["React","useState","ListGroup","Badge","useSelector","useDispatch","selectLocations","selectLocation","setLocation","LocationDeletePopup","LocationEditPopup","jsxDEV","_jsxDEV","LocationList","type","_s","dispatch","locations","activeLocation","deleting","setDeleting","editing","setEditing","destination","setDestination","checkDelete","location","startEdit","handleDragOver","event","loc","preventDefault","lid","handleDragLeave","timestamp","item_ids","LocationListItem","selected","className","onDragOver","e","onDragLeave","children","Item","onClick","variant","name","fileName","_jsxFileName","lineNumber","columnNumber","bg","Fragment","locationsOfType","filter","active","toggle","length","map","_c","$RefreshReg$"],"sources":["/Users/deewilliams/Developer/projects/nodwick-copy/src/components/LocationList.tsx"],"sourcesContent":["//React\nimport React, {useState} from 'react';\n//Bootstrap\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Badge from 'react-bootstrap/Badge';\n//Redux\nimport {useSelector, useDispatch} from 'react-redux';\nimport { selectLocations } from '../slices/allLocationSlice.tsx';\nimport {selectLocation, setLocation} from '../slices/locationSlice.tsx';\n//Types\nimport {Location} from '../types.tsx';\n//Components\nimport LocationDeletePopup from './LocationDeletePopup.tsx';\nimport LocationEditPopup from './LocationEditPopup.tsx';\n\ntype locationProps = {\n    type:string;\n}\n\nconst LocationList = ({type}:locationProps):JSX.Element => {\n    const dispatch = useDispatch();\n    const locations:Location[] = useSelector(selectLocations);\n    const activeLocation:Location = useSelector(selectLocation);\n    const [deleting, setDeleting] = useState(false);\n    const [editing, setEditing] = useState(false);\n    const [destination, setDestination] = useState(activeLocation);\n\n    type ListItemProps = {\n        location:Location;\n    }\n\n    const checkDelete = (location:Location) => {\n        dispatch(setLocation(location));\n        setDeleting(true);\n    }\n\n    const startEdit = (location:Location) => {\n        dispatch(setLocation(location));\n        setEditing(true);\n    }\n\n    const handleDragOver = (event:React.DragEvent, loc:Location) => {\n        event.preventDefault();\n        if (destination.lid !== loc.lid) {\n            setDestination(loc);\n        }\n    }\n\n    const handleDragLeave = (event:React.DragEvent, loc:Location) => {\n        event.preventDefault();\n        if (destination.lid === loc.lid) {\n            setDestination({'name': '', 'lid': '', 'gid': '', type: 'location', timestamp: '', item_ids: []});\n        }\n    }\n    \n    const LocationListItem = ({location}: ListItemProps):JSX.Element => {\n        let selected = location.lid === activeLocation.lid;\n        return <div className=\"droppable\" \n                onDragOver={(e) => handleDragOver(e, location)}\n                onDragLeave = {(e) => handleDragLeave(e, location)}>\n                <ListGroup.Item \n                onClick={()=> dispatch(setLocation(location))} \n                className={`location__entry ${selected ? 'active': ''}`}\n                variant={location.lid === destination.lid ? 'primary': ''}>\n                    <span className=\"location__text\">\n                    {location.name}\n                    </span>\n                {location.name !== 'Unassigned' ? \n                <div className=\"badges\">\n                    <Badge bg=\"secondary\" onClick={() => startEdit(location)}>âœŽ</Badge>{' '}\n                    <Badge bg=\"danger\" onClick={() => checkDelete(location)}>x</Badge>\n                </div> :\n                <React.Fragment></React.Fragment>}\n                </ListGroup.Item>\n                </div>\n    }\n\n    const locationsOfType = locations.filter((location:Location) => location.type === type);\n\n\n    return(\n        <React.Fragment>\n            <LocationEditPopup active={editing} toggle={() => setEditing(false)} />\n            <LocationDeletePopup active={deleting} toggle={() => setDeleting(false)} />\n            <ListGroup>\n                {locationsOfType.length >= 1 ?\n                locationsOfType.map((location:Location) => {return <LocationListItem location={location} key={location.lid}/>}) :\n                <ListGroup.Item>No entries yet!</ListGroup.Item>}\n            </ListGroup>\n        </React.Fragment>\n    )\n}\n\nexport default LocationList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}