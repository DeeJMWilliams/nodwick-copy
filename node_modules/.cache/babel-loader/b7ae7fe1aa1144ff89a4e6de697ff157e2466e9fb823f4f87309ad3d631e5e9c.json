{"ast":null,"code":"var _jsxFileName = \"/Users/deewilliams/Developer/projects/nodwick-copy/src/components/NewGameForm.tsx\",\n  _s = $RefreshSig$();\n//React\nimport React, { useState } from 'react';\n//Redux\nimport { selectUser } from '../slices/userSlice.tsx';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addGame as addNewGame } from '../slices/allGameSlice.tsx';\n//Methods\nimport { addUserToGame, addGame } from '../methods.tsx';\n//Types\n\n//Bootstrap\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewGameForm = ({\n  active,\n  toggle\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const [gameName, setGameName] = useState('');\n  const user = useSelector(selectUser);\n  const handleChange = event => {\n    if (event.target) {\n      const {\n        target\n      } = event;\n      setGameName(target.value);\n    }\n  };\n  const handleSubmit = name => {\n    addGame(name).then(response => {\n      //Add active user to new game\n      const game_id = response.data.gid;\n      const user_id = user.uid;\n      addUserToGame(game_id, user_id);\n      const newGame = {\n        ...response.data,\n        user_ids: [user_id]\n      };\n      dispatch(addNewGame(newGame));\n    }).catch(e => console.log(e));\n  };\n  const submitNewGame = event => {\n    event.preventDefault();\n    if (gameName) {\n      handleSubmit(gameName);\n      setGameName('');\n      toggle();\n    } else {\n      //!!! Create alert for form (Bootstrap Overlay)\n      console.log('TODO');\n    }\n  };\n  if (!active) return /*#__PURE__*/_jsxDEV(React.Fragment, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n    className: \"newGameForm\",\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: submitNewGame,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"nameField\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"input\",\n          name: \"name\",\n          id: \"name\",\n          placeholder: \"My new game\",\n          value: gameName,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'right',\n          gap: '3px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"primary\",\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: toggle,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n_s(NewGameForm, \"KfSwQswHz18SEDLuLFTCUJKQ50Y=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = NewGameForm;\nexport default NewGameForm;\nvar _c;\n$RefreshReg$(_c, \"NewGameForm\");","map":{"version":3,"names":["React","useState","selectUser","useDispatch","useSelector","addGame","addNewGame","addUserToGame","ListGroup","Form","Button","jsxDEV","_jsxDEV","NewGameForm","active","toggle","_s","dispatch","gameName","setGameName","user","handleChange","event","target","value","handleSubmit","name","then","response","game_id","data","gid","user_id","uid","newGame","user_ids","catch","e","console","log","submitNewGame","preventDefault","Fragment","fileName","_jsxFileName","lineNumber","columnNumber","Item","className","children","onSubmit","Group","Label","Control","as","id","placeholder","onChange","style","display","justifyContent","gap","type","variant","onClick","_c","$RefreshReg$"],"sources":["/Users/deewilliams/Developer/projects/nodwick-copy/src/components/NewGameForm.tsx"],"sourcesContent":["//React\nimport React, {useState} from 'react';\n//Redux\nimport {selectUser} from '../slices/userSlice.tsx';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {addGame as addNewGame} from '../slices/allGameSlice.tsx';\n//Methods\nimport { addUserToGame, addGame } from '../methods.tsx';\n//Types\nimport {Game} from '../types.tsx';\n//Bootstrap\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\ntype GameFormProps = {\n    active: boolean;\n    toggle: () => void;\n}\n\nconst NewGameForm = ({active, toggle}: GameFormProps): JSX.Element => {\n    const dispatch = useDispatch();\n    const [gameName, setGameName] = useState('');\n    const user = useSelector(selectUser);\n\n    const handleChange = (event: React.ChangeEvent<HTMLInputElement>):void => {\n        if (event.target) {\n            const {target} = event;\n            setGameName(target.value);\n        }\n    } \n\n    const handleSubmit = (name:string):void => {\n        addGame(name)\n        .then((response) => {\n          //Add active user to new game\n            const game_id:string = response.data.gid;\n            const user_id:string = user.uid\n            addUserToGame(game_id, user_id);\n            const newGame:Game = {...response.data, user_ids: [user_id]}\n            dispatch(addNewGame(newGame));\n        })\n        .catch(e => console.log(e))\n    }\n\n    const submitNewGame = (event: React.FormEvent):void => {\n        event.preventDefault();\n        if (gameName) {\n            handleSubmit(gameName);\n            setGameName('');\n            toggle();\n        } else {\n            //!!! Create alert for form (Bootstrap Overlay)\n            console.log('TODO');\n        }\n        \n    }\n\n    if (!active) return <React.Fragment></React.Fragment>;\n\n    return(\n        <ListGroup.Item className='newGameForm'>\n            <Form onSubmit={submitNewGame}>\n                <Form.Group className='nameField'>\n                    <Form.Label>Name</Form.Label>\n                    <Form.Control as=\"input\" name='name' id='name' placeholder='My new game' value={gameName} onChange={handleChange}/>\n                </Form.Group>\n                <span style={{display: 'flex', justifyContent: 'right', gap: '3px'}}>\n                    <Button type='submit' variant='primary'>Create</Button>\n                    <Button variant='secondary' onClick={toggle}>Cancel</Button>\n                </span>\n            </Form>\n        </ListGroup.Item>\n    )\n}\n\nexport default NewGameForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}