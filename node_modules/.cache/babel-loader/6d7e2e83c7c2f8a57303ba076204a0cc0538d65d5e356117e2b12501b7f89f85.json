{"ast":null,"code":"import _regeneratorRuntime from\"/Users/deewilliams/Developer/projects/nodwick-copy/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/deewilliams/Developer/projects/nodwick-copy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/deewilliams/Developer/projects/nodwick-copy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//React\nimport React,{useState,useEffect}from'react';//Types\n//Redux\nimport{useSelector,useDispatch}from'react-redux';import{selectPreviewGame}from'../slices/gamePreviewSlice.tsx';import{setGame}from'../slices/gameSlice.tsx';//Methods\nimport{getUser}from'../methods.tsx';//Bootstrap\nimport ListGroup from'react-bootstrap/ListGroup';import Button from'react-bootstrap/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GamePreview=function GamePreview(){var dispatch=useDispatch();var game=useSelector(selectPreviewGame);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];//Make list of all users in game's list of user IDs\nuseEffect(function(){Promise.all(game.user_ids.map(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user_id){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",getUser(user_id));case 1:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}())).then(function(response){return setUsers(response);});},[game]);if(!game.name)return/*#__PURE__*/_jsx(React.Fragment,{});var userList=users.map(function(user,i){if(i===users.length-1){return user.name;}else{return\"\".concat(user.name,\", \");}});return/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Game: \",game.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Players: \",userList]}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:function onClick(){return dispatch(setGame(game));},children:\"Enter\"})]});};export default GamePreview;","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","selectPreviewGame","setGame","getUser","ListGroup","Button","jsx","_jsx","jsxs","_jsxs","GamePreview","dispatch","game","_useState","_useState2","_slicedToArray","users","setUsers","Promise","all","user_ids","map","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user_id","wrap","_callee$","_context","prev","next","abrupt","stop","_x","apply","arguments","then","response","name","Fragment","userList","user","i","length","concat","Item","children","variant","onClick"],"sources":["/Users/deewilliams/Developer/projects/nodwick-copy/src/components/GamePreview.tsx"],"sourcesContent":["//React\nimport React, {useState, useEffect} from 'react';\n//Types\nimport {User, Game} from '../types.tsx'\n//Redux\nimport {useSelector, useDispatch} from 'react-redux';\nimport {selectPreviewGame} from '../slices/gamePreviewSlice.tsx';\nimport {setGame} from '../slices/gameSlice.tsx';\n//Methods\nimport {getUser} from '../methods.tsx';\n//Bootstrap\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Button from 'react-bootstrap/Button';\n\nconst GamePreview = (): JSX.Element => {\n    const dispatch = useDispatch()\n    const game:Game = useSelector(selectPreviewGame);\n    const [users, setUsers] = useState<User[]>([]);\n\n    //Make list of all users in game's list of user IDs\n    useEffect(() => {\n        Promise.all(game.user_ids.map(async (user_id:string) => {\n            return getUser(user_id);\n        })).then(response => setUsers(response))\n    }, [game]);\n\n    if (!game.name) return <React.Fragment></React.Fragment>;\n    const userList:string[] = users.map((user:User, i) => {\n        if (i === users.length - 1) {\n            return user.name;\n        } else {\n            return `${user.name}, `\n        }\n    });\n\n    return(\n        <ListGroup.Item>\n            <p>Game: {game.name}</p>\n            <p>Players: {userList}</p>\n            <Button variant=\"secondary\" onClick={() => dispatch(setGame(game))}>Enter</Button>\n        </ListGroup.Item>\n    )\n}\n\nexport default GamePreview;"],"mappings":"waAAA;AACA,MAAO,CAAAA,KAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD;AAEA;AACA,OAAQC,WAAW,CAAEC,WAAW,KAAO,aAAa,CACpD,OAAQC,iBAAiB,KAAO,gCAAgC,CAChE,OAAQC,OAAO,KAAO,yBAAyB,CAC/C;AACA,OAAQC,OAAO,KAAO,gBAAgB,CACtC;AACA,MAAO,CAAAC,SAAS,KAAM,2BAA2B,CACjD,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAsB,CACnC,GAAM,CAAAC,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAY,IAAS,CAAGb,WAAW,CAACE,iBAAiB,CAAC,CAChD,IAAAY,SAAA,CAA0BhB,QAAQ,CAAS,EAAE,CAAC,CAAAiB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEtB;AACAhB,SAAS,CAAC,UAAM,CACZoB,OAAO,CAACC,GAAG,CAACP,IAAI,CAACQ,QAAQ,CAACC,GAAG,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAOC,OAAc,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,gBAAAF,QAAA,CAAAG,MAAA,UACxC9B,OAAO,CAACwB,OAAO,CAAC,0BAAAG,QAAA,CAAAI,IAAA,MAAAR,OAAA,GAC1B,mBAAAS,EAAA,SAAAb,IAAA,CAAAc,KAAA,MAAAC,SAAA,QAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,QAAI,CAAAtB,QAAQ,CAACsB,QAAQ,CAAC,GAAC,CAC5C,CAAC,CAAE,CAAC3B,IAAI,CAAC,CAAC,CAEV,GAAI,CAACA,IAAI,CAAC4B,IAAI,CAAE,mBAAOjC,IAAA,CAACX,KAAK,CAAC6C,QAAQ,GAAiB,CAAC,CACxD,GAAM,CAAAC,QAAiB,CAAG1B,KAAK,CAACK,GAAG,CAAC,SAACsB,IAAS,CAAEC,CAAC,CAAK,CAClD,GAAIA,CAAC,GAAK5B,KAAK,CAAC6B,MAAM,CAAG,CAAC,CAAE,CACxB,MAAO,CAAAF,IAAI,CAACH,IAAI,CACpB,CAAC,IAAM,CACH,SAAAM,MAAA,CAAUH,IAAI,CAACH,IAAI,OACvB,CACJ,CAAC,CAAC,CAEF,mBACI/B,KAAA,CAACL,SAAS,CAAC2C,IAAI,EAAAC,QAAA,eACXvC,KAAA,MAAAuC,QAAA,EAAG,QAAM,CAACpC,IAAI,CAAC4B,IAAI,EAAI,CAAC,cACxB/B,KAAA,MAAAuC,QAAA,EAAG,WAAS,CAACN,QAAQ,EAAI,CAAC,cAC1BnC,IAAA,CAACF,MAAM,EAAC4C,OAAO,CAAC,WAAW,CAACC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAvC,QAAQ,CAACT,OAAO,CAACU,IAAI,CAAC,CAAC,EAAC,CAAAoC,QAAA,CAAC,OAAK,CAAQ,CAAC,EACtE,CAAC,CAEzB,CAAC,CAED,cAAe,CAAAtC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}