{"ast":null,"code":"import _slicedToArray from\"/Users/deewilliams/Developer/projects/nodwick-copy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//React\nimport{useState}from'react';//Bootstrap\nimport Modal from'react-bootstrap/Modal';import CloseButton from'react-bootstrap/CloseButton';import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';//Redux\nimport{useSelector,useDispatch}from'react-redux';import{selectLocation}from'../slices/locationSlice.tsx';import{editLocation}from'../slices/allLocationSlice.tsx';//Types\n//Methods\nimport{renameLocation}from'../methods.tsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LocationEditPopup=function LocationEditPopup(_ref){var active=_ref.active,toggle=_ref.toggle;var dispatch=useDispatch();var location=useSelector(selectLocation);var _useState=useState(location.name),_useState2=_slicedToArray(_useState,2),locationName=_useState2[0],setLocationName=_useState2[1];var handleChange=function handleChange(event){if(event.target){var target=event.target;setLocationName(target.value);}};var handleSubmit=function handleSubmit(event){event.preventDefault();renameLocation(locationName,location.gid,location.lid).then(function(response){dispatch(editLocation(response.data));}).catch(function(e){return console.log(e);});toggle();};return/*#__PURE__*/_jsxs(Modal,{show:active,children:[/*#__PURE__*/_jsx(CloseButton,{onClick:toggle}),/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Edit \",location.name]})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"name\",children:[/*#__PURE__*/_jsxs(Form.Label,{children:[location.type==='location'?'Location':'Character',\" Name\"]}),/*#__PURE__*/_jsx(Form.Control,{as:\"input\",name:\"name\",value:locationName,onChange:handleChange})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:toggle,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Change\"})]})]})]});};export default LocationEditPopup;","map":{"version":3,"names":["useState","Modal","CloseButton","Button","Form","useSelector","useDispatch","selectLocation","editLocation","renameLocation","jsx","_jsx","jsxs","_jsxs","LocationEditPopup","_ref","active","toggle","dispatch","location","_useState","name","_useState2","_slicedToArray","locationName","setLocationName","handleChange","event","target","value","handleSubmit","preventDefault","gid","lid","then","response","data","catch","e","console","log","show","children","onClick","Header","Title","onSubmit","Body","Group","controlId","Label","type","Control","as","onChange","Footer","variant"],"sources":["/Users/deewilliams/Developer/projects/nodwick-copy/src/components/LocationEditPopup.tsx"],"sourcesContent":["//React\nimport {useState} from 'react';\n//Bootstrap\nimport Modal from 'react-bootstrap/Modal';\nimport CloseButton from 'react-bootstrap/CloseButton';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n//Redux\nimport {useSelector, useDispatch} from 'react-redux';\nimport {selectLocation} from '../slices/locationSlice.tsx';\nimport {editLocation} from '../slices/allLocationSlice.tsx';\n//Types\nimport {Location} from '../types.tsx';\n//Methods\nimport { renameLocation } from '../methods.tsx';\n\ntype PopupProps = {\n    active: boolean;\n    toggle: () => void;\n}\n\nconst LocationEditPopup = ({active, toggle}:PopupProps):JSX.Element => {\n        const dispatch = useDispatch();\n        const location:Location = useSelector(selectLocation);\n        const [locationName, setLocationName] = useState(location.name);\n\n    const handleChange = (event:React.ChangeEvent<HTMLInputElement>) => {\n        if (event.target) {\n            const {target} = event;\n            setLocationName(target.value);\n        }   \n    };\n\n    const handleSubmit = (event:React.FormEvent) => {\n        event.preventDefault();\n        renameLocation(locationName, location.gid, location.lid)\n        .then(response => {\n            dispatch(editLocation(response.data));\n        })\n        .catch(e => console.log(e))\n        toggle()\n    };\n\n    return(\n        <Modal show={active}>\n            <CloseButton onClick={toggle} />\n            <Modal.Header>\n                <Modal.Title>Edit {location.name}</Modal.Title>\n            </Modal.Header>\n            <Form onSubmit={handleSubmit}>\n                <Modal.Body>\n                    <Form.Group controlId=\"name\">\n                        <Form.Label>{location.type === 'location' ? 'Location' : 'Character'} Name</Form.Label>\n                        <Form.Control as=\"input\" name=\"name\" value={locationName} onChange={handleChange} />\n                    </Form.Group>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={toggle}>Cancel</Button>\n                    <Button type=\"submit\" variant=\"primary\">Change</Button>\n                </Modal.Footer>\n            </Form>\n        </Modal>\n    )\n}\n\nexport default LocationEditPopup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}