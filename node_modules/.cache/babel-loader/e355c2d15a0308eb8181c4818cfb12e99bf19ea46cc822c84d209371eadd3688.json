{"ast":null,"code":"import _slicedToArray from\"/Users/deewilliams/Developer/projects/nodwick-copy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//React\nimport{useState}from'react';//Bootstrap\nimport Modal from'react-bootstrap/Modal';import CloseButton from'react-bootstrap/CloseButton';import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';//Methods\nimport{deleteGame}from'../methods.tsx';//Redux\nimport{useSelector,useDispatch}from'react-redux';import{selectGame,resetGame}from'../slices/gameSlice.tsx';import{removeGame}from'../slices/allGameSlice.tsx';//Types\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GameDeletePopup=function GameDeletePopup(_ref){var active=_ref.active,toggle=_ref.toggle;var dispatch=useDispatch();var game=useSelector(selectGame);var _useState=useState(''),_useState2=_slicedToArray(_useState,2),gameName=_useState2[0],setGameName=_useState2[1];var handleChange=function handleChange(event){if(event.target){var target=event.target;setGameName(target.value);}};var handleSubmit=function handleSubmit(event){event.preventDefault();if(gameName===game.name){var game_id=game.gid;dispatch(resetGame());deleteGame(game_id).then(function(){dispatch(removeGame(game_id));}).catch(function(e){return console.log(e);});}else{//!!!Create popup\nconsole.log('TODO');}};return/*#__PURE__*/_jsxs(Modal,{show:active,children:[/*#__PURE__*/_jsx(CloseButton,{onClick:toggle}),/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Delete \",game.name,\"?\"]})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Are you sure you want to delete this game? This action \",/*#__PURE__*/_jsx(\"strong\",{children:\"cannot\"}),\" be undone.\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"To permanently delete \",game.name,\", type its full name in the box below, then press delete.\"]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"gameName\",children:[/*#__PURE__*/_jsx(Form.Label,{children:game.name}),/*#__PURE__*/_jsx(Form.Control,{as:\"input\",name:\"gameName\",placeholder:game.name,onChange:handleChange})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{onClick:toggle,variant:\"secondary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"danger\",children:\"Delete\"})]})]})]});};export default GameDeletePopup;","map":{"version":3,"names":["useState","Modal","CloseButton","Button","Form","deleteGame","useSelector","useDispatch","selectGame","resetGame","removeGame","jsx","_jsx","jsxs","_jsxs","GameDeletePopup","_ref","active","toggle","dispatch","game","_useState","_useState2","_slicedToArray","gameName","setGameName","handleChange","event","target","value","handleSubmit","preventDefault","name","game_id","gid","then","catch","e","console","log","show","children","onClick","Header","Title","onSubmit","Body","Group","controlId","Label","Control","as","placeholder","onChange","Footer","variant","type"],"sources":["/Users/deewilliams/Developer/projects/nodwick-copy/src/components/GameDeletePopup.tsx"],"sourcesContent":["//React\nimport {useState} from 'react';\n//Bootstrap\nimport Modal from 'react-bootstrap/Modal';\nimport CloseButton from 'react-bootstrap/CloseButton';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n//Methods\nimport {deleteGame} from '../methods.tsx';\n//Redux\nimport {useSelector, useDispatch} from 'react-redux';\nimport { selectGame, resetGame } from '../slices/gameSlice.tsx';\nimport { removeGame } from '../slices/allGameSlice.tsx';\n//Types\nimport {Game} from '../types.tsx';\n\ntype PopupProps = {\n    active: boolean;\n    toggle: () => void;\n}\n\nconst GameDeletePopup = ({active, toggle}:PopupProps):JSX.Element => {\n    const dispatch = useDispatch();\n    const game:Game = useSelector(selectGame);\n    const [gameName, setGameName] = useState('');\n\n    const handleChange = (event:React.ChangeEvent<HTMLInputElement>) => {\n        if (event.target) {\n            const {target} = event;\n            setGameName(target.value);\n        }\n    }\n\n    const handleSubmit = (event:React.FormEvent) => {\n        event.preventDefault();\n        if (gameName === game.name) {\n            const game_id = game.gid;\n            dispatch(resetGame());\n            deleteGame(game_id)\n            .then(() => {\n                dispatch(removeGame(game_id));\n            })\n            .catch(e => console.log(e));\n        } else {\n            //!!!Create popup\n            console.log('TODO');\n        }\n    }\n\n    return(\n        <Modal show={active}>\n            <CloseButton onClick={toggle} />\n            <Modal.Header>\n                <Modal.Title>Delete {game.name}?</Modal.Title>\n            </Modal.Header>\n            <Form onSubmit={handleSubmit}>\n                <Modal.Body>\n                    <p>Are you sure you want to delete this game? This action <strong>cannot</strong> be undone.</p>\n                    <p>To permanently delete {game.name}, type its full name in the box below, then press delete.</p>\n                    <Form.Group controlId=\"gameName\">\n                        <Form.Label>{game.name}</Form.Label>\n                        <Form.Control as=\"input\" name=\"gameName\" placeholder={game.name} onChange={handleChange} />\n                    </Form.Group>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button onClick={toggle} variant=\"secondary\">Cancel</Button>\n                    <Button type=\"submit\" variant=\"danger\">Delete</Button>\n                </Modal.Footer>\n            </Form>\n        </Modal>\n    )\n}\n\nexport default GameDeletePopup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}