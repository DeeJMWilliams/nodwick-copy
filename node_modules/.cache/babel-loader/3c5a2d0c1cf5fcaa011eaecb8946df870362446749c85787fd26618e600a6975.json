{"ast":null,"code":"import _defineProperty from\"/Users/deewilliams/Developer/projects/nodwick-copy/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/deewilliams/Developer/projects/nodwick-copy/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/deewilliams/Developer/projects/nodwick-copy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//React\nimport React,{useState}from'react';//Bootstrap\nimport Modal from'react-bootstrap/Modal';import CloseButton from'react-bootstrap/CloseButton';import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';//Redux\nimport{useSelector,useDispatch}from'react-redux';import{addLocationItem}from'../slices/locationItemSlice';import{selectLocation}from'../slices/locationSlice';import{selectGame}from'../slices/gameSlice.tsx';//Methods\nimport{addNewItem}from'../methods.tsx';//Components\nimport CharError from'./CharError.tsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewItemForm=function NewItemForm(_ref){var active=_ref.active,toggle=_ref.toggle;var dispatch=useDispatch();var location=useSelector(selectLocation);var game=useSelector(selectGame);var _useState=useState({name:'',type:''}),_useState2=_slicedToArray(_useState,2),itemData=_useState2[0],setItemData=_useState2[1];var _useState3=useState({name:false,type:false}),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var handleSubmit=function handleSubmit(event){event.preventDefault();if(location.lid){addNewItem(itemData,game.gid,location.lid).then(function(response){dispatch(addLocationItem(response.data));}).catch(function(e){return console.log(e);});}else{addNewItem(itemData,game.gid).then(function(response){//!!! fix: handle differently if no active location\ndispatch(addLocationItem(response.data));}).catch(function(e){return console.log(e);});}setItemData({name:'',type:''});};var handleChange=function handleChange(event){if(event.target){var target=event.target;if(target.value.length<30){setItemData(_objectSpread(_objectSpread({},itemData),{},_defineProperty({},target.name,target.value)));}else{setItemData(_objectSpread(_objectSpread({},itemData),{},_defineProperty({},target.name,target.value.slice(0,30))));setAlert(_objectSpread(_objectSpread({},alert),{},_defineProperty({},target.name,true)));setTimeout(function(){return setAlert(_objectSpread(_objectSpread({},alert),{},_defineProperty({},target.name,false)));},2000);}}};return/*#__PURE__*/_jsxs(Modal,{show:active,children:[/*#__PURE__*/_jsx(CloseButton,{onClick:toggle}),/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Create New Item \",location.name?\"for \".concat(location.name):'']})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Item Name\"}),/*#__PURE__*/_jsx(CharError,{active:alert.name,children:/*#__PURE__*/_jsx(Form.Control,{as:\"input\",name:\"name\",placeholder:\"+1 Sword\",value:itemData.name,onChange:handleChange})})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"type\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Item Type\"}),/*#__PURE__*/_jsx(CharError,{active:alert.type,children:/*#__PURE__*/_jsx(Form.Control,{as:\"input\",name:\"type\",placeholder:\"Weapon\",value:itemData.type,onChange:handleChange})})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{onClick:toggle,variant:\"secondary\",children:\"Close\"}),/*#__PURE__*/_jsx(Button,{as:\"input\",type:\"submit\",value:\"Create\",onClick:toggle})]})]})]});};export default NewItemForm;","map":{"version":3,"names":["React","useState","Modal","CloseButton","Button","Form","useSelector","useDispatch","addLocationItem","selectLocation","selectGame","addNewItem","CharError","jsx","_jsx","jsxs","_jsxs","NewItemForm","_ref","active","toggle","dispatch","location","game","_useState","name","type","_useState2","_slicedToArray","itemData","setItemData","_useState3","_useState4","alert","setAlert","handleSubmit","event","preventDefault","lid","gid","then","response","data","catch","e","console","log","handleChange","target","value","length","_objectSpread","_defineProperty","slice","setTimeout","show","children","onClick","Header","Title","concat","onSubmit","Body","Group","controlId","Label","Control","as","placeholder","onChange","Footer","variant"],"sources":["/Users/deewilliams/Developer/projects/nodwick-copy/src/components/NewItemForm.tsx"],"sourcesContent":["//React\nimport React, {useState} from 'react';\n//Bootstrap\nimport Modal from 'react-bootstrap/Modal';\nimport CloseButton from 'react-bootstrap/CloseButton';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n//Redux\nimport {useSelector, useDispatch} from 'react-redux';\nimport { addLocationItem } from '../slices/locationItemSlice';\nimport { selectLocation } from '../slices/locationSlice';\nimport {selectGame} from '../slices/gameSlice.tsx';\n//Methods\nimport {addNewItem} from '../methods.tsx';\n//Components\nimport CharError from './CharError.tsx';\n\nconst NewItemForm = ({active, toggle}) => {\n    const dispatch = useDispatch();\n    const location = useSelector(selectLocation);\n    const game = useSelector(selectGame);\n    const [itemData, setItemData] = useState({name:'', type:''});\n    const [alert, setAlert] = useState({name: false, type: false});\n\n    const handleSubmit = (event:React.FormEvent) => {\n        event.preventDefault();\n        if (location.lid) {\n            addNewItem(itemData, game.gid, location.lid)\n            .then(response => {\n                dispatch(addLocationItem(response.data));\n            }).catch(e => console.log(e));\n        } else {\n            addNewItem(itemData, game.gid).then(response => {\n                //!!! fix: handle differently if no active location\n                dispatch(addLocationItem(response.data));\n            }).catch(e => console.log(e));\n    }\n    setItemData({name:'',type:''});\n}\n\n    const handleChange = (event:React.ChangeEvent<HTMLInputElement>) => {\n        if (event.target) {\n            const {target} = event;\n            if (target.value.length < 30) {\n            setItemData({...itemData, [target.name]: target.value})\n            } else {\n                setItemData({...itemData, [target.name]: target.value.slice(0,30)});\n                setAlert({...alert, [target.name]: true});\n                setTimeout(() => setAlert({...alert, [target.name]: false}), 2000);\n            }\n        }\n    }\n\n    return(\n        <Modal show={active}>\n            <CloseButton onClick={toggle} />\n            <Modal.Header>\n                <Modal.Title>Create New Item {location.name ? `for ${location.name}` : ''}</Modal.Title>\n            </Modal.Header>\n                <Form onSubmit={handleSubmit}>\n                <Modal.Body>\n                    <Form.Group controlId=\"name\">\n                        <Form.Label>Item Name</Form.Label>\n                        <CharError active={alert.name}>\n                            <Form.Control as=\"input\" name=\"name\" placeholder=\"+1 Sword\" value={itemData.name} onChange={handleChange} />\n                        </CharError>\n                    </Form.Group>\n                    <Form.Group controlId=\"type\">\n                        <Form.Label>Item Type</Form.Label>\n                        <CharError active={alert.type}>\n                            <Form.Control as=\"input\" name=\"type\" placeholder=\"Weapon\" value={itemData.type} onChange={handleChange}/>\n                        </CharError>\n                    </Form.Group>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button onClick={toggle} variant=\"secondary\">Close</Button>\n                <Button as=\"input\" type=\"submit\" value=\"Create\" onClick={toggle}/>\n            </Modal.Footer>\n            </Form>\n        </Modal>\n    )\n}\n\nexport default NewItemForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}