{"ast":null,"code":"import _slicedToArray from\"/Users/deewilliams/Developer/projects/nodwick-copy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";//React\nimport React,{useState}from'react';//Bootstrap\nimport Modal from'react-bootstrap/Modal';import CloseButton from'react-bootstrap/CloseButton';import Button from'react-bootstrap/Button';import Form from'react-bootstrap/Form';//Redux\nimport{useSelector,useDispatch}from'react-redux';import{selectGame}from'../slices/gameSlice.tsx';import{addLocation}from'../slices/allLocationSlice.tsx';//Methods\nimport{addNewLocation}from'../methods.tsx';//Components\nimport CharError from'./CharError.tsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewLocationForm=function NewLocationForm(_ref){var category=_ref.category,active=_ref.active,toggle=_ref.toggle;var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),locationName=_useState2[0],setLocationName=_useState2[1];var game=useSelector(selectGame);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),alert=_useState4[0],setAlert=_useState4[1];var handleSubmit=function handleSubmit(event){event.preventDefault();addNewLocation({name:locationName,type:category.toLowerCase()},game.gid).then(function(response){dispatch(addLocation(response.data));}).catch(function(e){return console.log(e);});setLocationName('');toggle();};var handleChange=function handleChange(event){if(event.target){var target=event.target;if(target.value.length<30){setLocationName(target.value);}else{setLocationName(target.value.slice(0,30));setAlert(true);setTimeout(function(){return setAlert(false);},2000);}}};return/*#__PURE__*/_jsxs(Modal,{show:active,children:[/*#__PURE__*/_jsx(CloseButton,{onClick:toggle}),/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsxs(Modal.Title,{children:[\"New \",category]})}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(CharError,{active:alert,children:/*#__PURE__*/_jsx(Form.Control,{as:\"input\",name:\"name\",placeholder:\"Name\",onChange:handleChange,value:locationName})})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:toggle,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})]})]});};export default NewLocationForm;","map":{"version":3,"names":["React","useState","Modal","CloseButton","Button","Form","useSelector","useDispatch","selectGame","addLocation","addNewLocation","CharError","jsx","_jsx","jsxs","_jsxs","NewLocationForm","_ref","category","active","toggle","dispatch","_useState","_useState2","_slicedToArray","locationName","setLocationName","game","_useState3","_useState4","alert","setAlert","handleSubmit","event","preventDefault","name","type","toLowerCase","gid","then","response","data","catch","e","console","log","handleChange","target","value","length","slice","setTimeout","show","children","onClick","Header","Title","onSubmit","Body","Group","controlId","Label","Control","as","placeholder","onChange","Footer","variant"],"sources":["/Users/deewilliams/Developer/projects/nodwick-copy/src/components/NewLocationForm.tsx"],"sourcesContent":["//React\nimport React, {useState} from 'react';\n//Bootstrap\nimport Modal from 'react-bootstrap/Modal';\nimport CloseButton from 'react-bootstrap/CloseButton';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n//Redux\nimport {useSelector, useDispatch} from 'react-redux';\nimport {selectGame} from '../slices/gameSlice.tsx';\nimport { addLocation } from '../slices/allLocationSlice.tsx';\n//Methods\nimport { addNewLocation } from '../methods.tsx';\n//Components\nimport CharError from './CharError.tsx';\n\nconst NewLocationForm = ({category, active, toggle}) => {\n    const dispatch = useDispatch();\n    const [locationName,setLocationName] = useState('')\n    const game = useSelector(selectGame);\n    const [alert, setAlert] = useState(false);\n\n    const handleSubmit = (event:React.FormEvent) => {\n        event.preventDefault();\n        addNewLocation({name:locationName, type:category.toLowerCase()}, game.gid)\n        .then((response) => {\n            dispatch(addLocation(response.data));\n        })\n        .catch(e => console.log(e));\n        setLocationName('');\n        toggle();\n    };\n\n    const handleChange = (event:React.ChangeEvent<HTMLInputElement>) => {\n        if (event.target) {\n            const {target} = event;\n            if (target.value.length < 30) {setLocationName(target.value);}\n            else {\n                setLocationName(target.value.slice(0,30));\n                setAlert(true);\n                setTimeout(() => setAlert(false), 2000);\n            }\n            \n        }\n    };\n\n    return(\n        <Modal show={active}>\n            <CloseButton onClick={toggle}/>\n            <Modal.Header>\n                <Modal.Title>New {category}</Modal.Title>\n            </Modal.Header>\n            <Form onSubmit={handleSubmit}>\n                <Modal.Body>\n                    <Form.Group controlId=\"name\">\n                        <Form.Label>Name</Form.Label>\n                        <CharError active={alert}>\n                        <Form.Control as=\"input\" name=\"name\" placeholder=\"Name\" onChange={handleChange} value={locationName} />\n                        </CharError>\n                    </Form.Group>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={toggle}>Cancel</Button>\n                    <Button variant=\"primary\" type=\"submit\">Submit</Button>\n                </Modal.Footer>\n            </Form>\n        </Modal>\n    )\n}\n\nexport default NewLocationForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}