{"ast":null,"code":"var _jsxFileName = \"/Users/deewilliams/Developer/projects/nodwick-copy/src/components/NewItemForm.tsx\",\n  _s = $RefreshSig$();\n//React\nimport React, { useState } from 'react';\n//Bootstrap\nimport Modal from 'react-bootstrap/Modal';\nimport CloseButton from 'react-bootstrap/CloseButton';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n//Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addLocationItem } from '../slices/locationItemSlice';\nimport { selectLocation } from '../slices/locationSlice';\nimport { selectGame } from '../slices/gameSlice.tsx';\n//Methods\nimport { addNewItem } from '../methods.tsx';\n//Components\nimport CharError from './CharError.tsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewItemForm = ({\n  active,\n  toggle\n}) => {\n  _s();\n  const dispatch = useDispatch();\n  const location = useSelector(selectLocation);\n  const game = useSelector(selectGame);\n  const [itemData, setItemData] = useState({\n    name: '',\n    type: ''\n  });\n  const [alert, setAlert] = useState({\n    name: false,\n    type: false\n  });\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (location.lid) {\n      addNewItem(itemData, game.gid, location.lid).then(response => {\n        dispatch(addLocationItem(response.data));\n      }).catch(e => console.log(e));\n    } else {\n      addNewItem(itemData, game.gid).then(response => {\n        //!!! fix: handle differently if no active location\n        dispatch(addLocationItem(response.data));\n      }).catch(e => console.log(e));\n    }\n    setItemData({\n      name: '',\n      type: ''\n    });\n  };\n  const handleChange = event => {\n    if (event.target) {\n      const {\n        target\n      } = event;\n      if (target.value.length < 30) {\n        setItemData({\n          ...itemData,\n          [target.name]: target.value\n        });\n      } else {\n        setItemData({\n          ...itemData,\n          [target.name]: target.value.slice(0, 30)\n        });\n        setAlert({\n          ...alert,\n          [target.name]: true\n        });\n        setTimeout(() => setAlert({\n          ...alert,\n          [target.name]: false\n        }), 2000);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    show: active,\n    children: [/*#__PURE__*/_jsxDEV(CloseButton, {\n      onClick: toggle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Header, {\n      children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: [\"Create New Item \", location.name ? `for ${location.name}` : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"name\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Item Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CharError, {\n            active: alert.name,\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"input\",\n              name: \"name\",\n              placeholder: \"+1 Sword\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"type\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Item Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CharError, {\n            active: alert.type,\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"input\",\n              name: \"type\",\n              placeholder: \"Weapon\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: toggle,\n          variant: \"secondary\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          as: \"input\",\n          type: \"submit\",\n          value: \"Create\",\n          onClick: toggle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(NewItemForm, \"nfulzTz333cEzi7iVqqTBi6FdUo=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = NewItemForm;\nexport default NewItemForm;\nvar _c;\n$RefreshReg$(_c, \"NewItemForm\");","map":{"version":3,"names":["React","useState","Modal","CloseButton","Button","Form","useSelector","useDispatch","addLocationItem","selectLocation","selectGame","addNewItem","CharError","jsxDEV","_jsxDEV","NewItemForm","active","toggle","_s","dispatch","location","game","itemData","setItemData","name","type","alert","setAlert","handleSubmit","event","preventDefault","lid","gid","then","response","data","catch","e","console","log","handleChange","target","value","length","slice","setTimeout","show","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","Header","Title","onSubmit","Body","Group","controlId","Label","Control","as","placeholder","onChange","Footer","variant","_c","$RefreshReg$"],"sources":["/Users/deewilliams/Developer/projects/nodwick-copy/src/components/NewItemForm.tsx"],"sourcesContent":["//React\nimport React, {useState} from 'react';\n//Bootstrap\nimport Modal from 'react-bootstrap/Modal';\nimport CloseButton from 'react-bootstrap/CloseButton';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\n//Redux\nimport {useSelector, useDispatch} from 'react-redux';\nimport { addLocationItem } from '../slices/locationItemSlice';\nimport { selectLocation } from '../slices/locationSlice';\nimport {selectGame} from '../slices/gameSlice.tsx';\n//Methods\nimport {addNewItem} from '../methods.tsx';\n//Components\nimport CharError from './CharError.tsx';\n\nconst NewItemForm = ({active, toggle}) => {\n    const dispatch = useDispatch();\n    const location = useSelector(selectLocation);\n    const game = useSelector(selectGame);\n    const [itemData, setItemData] = useState({name:'', type:''});\n    const [alert, setAlert] = useState({name: false, type: false});\n\n    const handleSubmit = (event:React.FormEvent) => {\n        event.preventDefault();\n        if (location.lid) {\n            addNewItem(itemData, game.gid, location.lid)\n            .then(response => {\n                dispatch(addLocationItem(response.data));\n            }).catch(e => console.log(e));\n        } else {\n            addNewItem(itemData, game.gid).then(response => {\n                //!!! fix: handle differently if no active location\n                dispatch(addLocationItem(response.data));\n            }).catch(e => console.log(e));\n    }\n    setItemData({name:'',type:''});\n}\n\n    const handleChange = (event:React.ChangeEvent<HTMLInputElement>) => {\n        if (event.target) {\n            const {target} = event;\n            if (target.value.length < 30) {\n            setItemData({...itemData, [target.name]: target.value})\n            } else {\n                setItemData({...itemData, [target.name]: target.value.slice(0,30)});\n                setAlert({...alert, [target.name]: true});\n                setTimeout(() => setAlert({...alert, [target.name]: false}), 2000);\n            }\n        }\n    }\n\n    return(\n        <Modal show={active}>\n            <CloseButton onClick={toggle} />\n            <Modal.Header>\n                <Modal.Title>Create New Item {location.name ? `for ${location.name}` : ''}</Modal.Title>\n            </Modal.Header>\n                <Form onSubmit={handleSubmit}>\n                <Modal.Body>\n                    <Form.Group controlId=\"name\">\n                        <Form.Label>Item Name</Form.Label>\n                        <CharError active={alert.name}>\n                            <Form.Control as=\"input\" name=\"name\" placeholder=\"+1 Sword\" onChange={handleChange} />\n                        </CharError>\n                    </Form.Group>\n                    <Form.Group controlId=\"type\">\n                        <Form.Label>Item Type</Form.Label>\n                        <CharError active={alert.type}>\n                            <Form.Control as=\"input\" name=\"type\" placeholder=\"Weapon\" onChange={handleChange}/>\n                        </CharError>\n                    </Form.Group>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button onClick={toggle} variant=\"secondary\">Close</Button>\n                <Button as=\"input\" type=\"submit\" value=\"Create\" onClick={toggle}/>\n            </Modal.Footer>\n            </Form>\n        </Modal>\n    )\n}\n\nexport default NewItemForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}