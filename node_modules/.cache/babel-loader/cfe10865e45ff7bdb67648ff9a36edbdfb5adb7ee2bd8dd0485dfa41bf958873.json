{"ast":null,"code":"var _jsxFileName = \"/Users/deewilliams/Developer/projects/nodwick-copy/src/components/ItemList.tsx\",\n  _s = $RefreshSig$();\n//React\nimport React, { useEffect, useState } from 'react';\n//Bootstrap\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Button from 'react-bootstrap/Button';\n//Redux\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectLocation } from '../slices/locationSlice.tsx';\nimport { selectGame } from '../slices/gameSlice.tsx';\nimport { setLocationItems, selectLocationItems } from '../slices/locationItemSlice.tsx';\nimport { setItem, selectItem } from '../slices/itemSlice.tsx';\n//Methods\nimport { getLocationItems } from '../methods.tsx';\n//Components\nimport NewItemForm from './NewItemForm.tsx';\nimport ItemPreview from './ItemPreview.tsx';\n//Types\n\n//Drag and Drop\nimport { ItemTypes } from '../constants.tsx';\nimport { useDrag } from 'react-dnd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ItemList = () => {\n  _s();\n  const dispatch = useDispatch();\n  const location = useSelector(selectLocation);\n  const game = useSelector(selectGame);\n  const items = useSelector(selectLocationItems);\n  const activeItem = useSelector(selectItem);\n  const [newItem, setNewItem] = useState(false);\n  useEffect(() => {\n    if (location.lid) {\n      getLocationItems(game.gid, location.lid).then(response => {\n        dispatch(setLocationItems(response.data));\n      });\n    } else {\n      dispatch(setLocationItems([]));\n    }\n  }, [location, dispatch, game]);\n  const [{\n    isDragging\n  }, drag] = useDrag(() => ({\n    type: ItemTypes.ITEM,\n    collect: monitor => ({\n      isDragging: !!monitor.isDragging()\n    })\n  }));\n  const ItemListItem = ({\n    item\n  }) => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: drag,\n      style: {\n        opacity: isDragging ? 0.7 : 1,\n        cursor: 'move',\n        background: 'red'\n      },\n      children: /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        className: item.iid === activeItem.iid ? 'active' : '',\n        onClick: () => dispatch(setItem(item)),\n        children: item.name\n      }, item.iid, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ItemPreview, {\n      active: activeItem.iid !== ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(NewItemForm, {\n      active: newItem,\n      toggle: () => setNewItem(!newItem)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        display: 'inline'\n      },\n      children: [\"Items\", '   ']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"secondary\",\n      size: \"sm\",\n      style: {\n        display: 'inline'\n      },\n      onClick: () => setNewItem(true),\n      children: \"New Item\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n      children: items.length >= 1 ? items.map(item => {\n        return /*#__PURE__*/_jsxDEV(ItemListItem, {\n          item: item\n        }, item.iid, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 24\n        }, this);\n      }) : location.lid ? /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n        children: \"No entries yet!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 28\n      }, this) : /*#__PURE__*/_jsxDEV(React.Fragment, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 79\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_s(ItemList, \"clXz9Xo9Oo1fFEtqACJVoxJxngQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useDrag];\n});\n_c = ItemList;\nexport default ItemList;\nvar _c;\n$RefreshReg$(_c, \"ItemList\");","map":{"version":3,"names":["React","useEffect","useState","ListGroup","Button","useSelector","useDispatch","selectLocation","selectGame","setLocationItems","selectLocationItems","setItem","selectItem","getLocationItems","NewItemForm","ItemPreview","ItemTypes","useDrag","jsxDEV","_jsxDEV","ItemList","_s","dispatch","location","game","items","activeItem","newItem","setNewItem","lid","gid","then","response","data","isDragging","drag","type","ITEM","collect","monitor","ItemListItem","item","ref","style","opacity","cursor","background","children","Item","className","iid","onClick","name","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","active","toggle","display","variant","size","length","map","_c","$RefreshReg$"],"sources":["/Users/deewilliams/Developer/projects/nodwick-copy/src/components/ItemList.tsx"],"sourcesContent":["//React\nimport React, {useEffect, useState} from 'react';\n//Bootstrap\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport Button from 'react-bootstrap/Button';\n//Redux\nimport {useSelector, useDispatch} from 'react-redux';\nimport { selectLocation } from '../slices/locationSlice.tsx';\nimport {selectGame} from '../slices/gameSlice.tsx';\nimport { setLocationItems, selectLocationItems } from '../slices/locationItemSlice.tsx';\nimport { setItem, selectItem } from '../slices/itemSlice.tsx';\n//Methods\nimport { getLocationItems } from '../methods.tsx';\n//Components\nimport NewItemForm from './NewItemForm.tsx';\nimport ItemPreview from './ItemPreview.tsx';\n//Types\nimport {Item} from '../types.tsx';\n//Drag and Drop\nimport { ItemTypes } from '../constants.tsx';\nimport {useDrag} from 'react-dnd';\n\nconst ItemList = () => {\n    const dispatch = useDispatch();\n    const location = useSelector(selectLocation);\n    const game = useSelector(selectGame);\n    const items = useSelector(selectLocationItems);\n    const activeItem = useSelector(selectItem);\n    const [newItem, setNewItem] = useState(false);\n\n    useEffect(() => {\n        if (location.lid) {\n            getLocationItems(game.gid, location.lid)\n            .then((response) => {\n                dispatch(setLocationItems(response.data));\n            })\n        } else {\n            dispatch(setLocationItems([]));\n        }\n    }, [location, dispatch, game])\n\n    type ListItemProps = {\n        item:Item;\n    }\n\n    const [{isDragging}, drag] = useDrag(() => ({\n        type: ItemTypes.ITEM,\n        collect: monitor => ({\n            isDragging: !!monitor.isDragging(),\n        }),\n    }));\n\n    const ItemListItem = ({item}:ListItemProps):JSX.Element => {\n        return (\n            <div ref={drag} style={{opacity: isDragging? 0.7 : 1, cursor: 'move', background: 'red'}}>\n                <ListGroup.Item \n                className={item.iid === activeItem.iid ? 'active': ''} \n                key={item.iid} \n                onClick={() => dispatch(setItem(item))}>\n                        {item.name}\n                </ListGroup.Item>\n            </div>)\n    }\n\n    return(\n        <React.Fragment>\n        <ItemPreview active={activeItem.iid !== ''} />\n        <NewItemForm active={newItem} toggle={() => setNewItem(!newItem)} />\n        <h2 style={{display: 'inline'}}>Items{'   '}</h2>\n        <Button variant=\"secondary\" size=\"sm\" style={{display: 'inline'}} onClick={() => setNewItem(true)}>New Item</Button>\n        <ListGroup>\n            {items.length >= 1 ?\n            items.map((item:Item) => {\n                return(<ItemListItem item={item} key={item.iid} />)\n            }) :\n            location.lid ? <ListGroup.Item>No entries yet!</ListGroup.Item> : <React.Fragment></React.Fragment>}\n        </ListGroup>\n        </React.Fragment>\n    )\n}\n\nexport default ItemList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}